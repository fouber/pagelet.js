!function(a){"use strict";function b(){}function c(a){var b=$docm.createElement("script");e(b,$docm.createTextNode(a)),e(r,b)}function d(a){return!!a}function e(a,b){return a.appendChild(b)}function f(a,b){return Object.prototype.toString.call(a).toLowerCase()==="[object "+b+"]"}function g(a,c,d){var f,g="js"===c,h="css"===c,i=document.createElement(g?"script":"link"),j="onload"in i,k=setTimeout(function(){clearTimeout(k),clearInterval(f),d("timeout")},o);g?(i.type="text/javascript",i.async="async",i.src=a):(h&&(i.type="text/css",i.rel="stylesheet"),i.href=a),i.onload=i[m]=function(){!i||i[n]&&!/loaded|complete/.test(i[n])||(clearTimeout(k),i.onload=i[m]=b,g&&r&&i.parentNode&&r.removeChild(i),d(),i=null)},i.onerror=function(b){clearTimeout(k),clearInterval(f),b=(b||{}).error||new Error("load resource timeout"),b.message="Error loading ["+a+"]: "+b.message,d(b)},e(r,i),h&&(q||!j)&&(f=setInterval(function(){i.sheet&&(clearTimeout(id),clearInterval(f),d())},20))}function h(a,d){document.title=a.title||document.title;var e=[],f=null;j(e,a.js,"js"),j(e,a.css,"css");var g=function(){if(a.script&&a.script.length){var d="!function(){",e="}();\n",f=d+a.script.join(e+d)+e;c(f)}g=b};if(e&&e.length){var h=e.length;e.forEach(function(b){k(b.uri,b.type,function(b){h--,0===h&&d(f,a,g),f=b})})}else d(f,a,g)}function i(a){for(var b in a)if(a.hasOwnProperty(b)){var c=document.createElement("div");c.innerHTML=a[b];var d=document.getElementById(b);d.innerHTML=c.childNodes[0].innerHTML}}function j(a,b,c){if(b&&b.length&&(b=b.filter(function(a){var b=u[a]===!0;return u[a]=!0,!b}),b.length))if(v){var d=b.join(",");a.push({uri:w.replace("%s",d),type:c})}else b.forEach(function(b){a.push({uri:b,type:c})})}function k(a,c,d){var e,f="js"===c,g="css"===c,h=document.createElement(f?"script":"link"),i="onload"in h,j=setTimeout(function(){clearTimeout(j),clearInterval(e),d("timeout")},o);f?(h.type="text/javascript",h.async="async",h.src=a):(g&&(h.type="text/css",h.rel="stylesheet"),h.href=a),h.onload=h.onreadystatechange=function(){!h||h.readyState&&!/loaded|complete/.test(h.readyState)||(clearTimeout(j),h.onload=h.onreadystatechange=b,f&&head&&h.parentNode&&head.removeChild(h),d(),h=null)},h.onerror=function(b){clearTimeout(j),clearInterval(e),b=(b||{}).error||new Error("load resource timeout"),b.message="Error loading ["+a+"]: "+b.message,d(b)},head.appendChild(h),g&&(q||!i)&&(e=setInterval(function(){h&&h.sheet&&(clearTimeout(j),clearInterval(e),d())},20))}var l,m="onreadystatechange",n="readyState",o=6e4,p="/co??%s",q=+navigator.userAgent.replace(/.*AppleWebKit\/(\d+)\..*/,"$1")<536,r=document.head||document.getElementsByTagName("head")[0];g.xhr=function(){return l},g.request=function(c,d,e,f){var g=d.before||b;l&&l[n]<4&&(l[m]=b,l.abort()),l=new a.XMLHttpRequest,l.onprogress=f,l[m]=function(){if(4==l[n]){l[m]=b;var a,c=null;if(l.status>=200&&l.status<300||304==l.status){a=l.responseText;try{a=JSON.parse(a)}catch(d){c=d}c?e(c):e(null,a)}else c=l.statusText||(l.status?"error":"abort"),e(c)}},g(l),l.open("GET",c,!0),l.send()};var s,t=a.pagelet={},u={},v=!1,w=p,x=a.history&&a.history.pushState&&a.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]\D|WebApps\/.+CFNetwork)/);t.init=function(a,b,c){v=!!a,w=b||p,c&&c.length&&c.forEach(function(a){u[a]=!0})},t.initState=function(b,c){var b=b||[],c=c||{};s||(s={url:a.location.href,title:document.title,pagelets:b,pageletOptions:c},a.history.replaceState(s,document.title))},t.go=function(b,c,d){var e=Boolean(d.stateReplace)||!1;x&&c&&t.initState(),t.load(b,c,d,function(e,f,g){var h=f.title||document.title,j={url:b,title:h,pagelets:c,pageletOptions:d};a.history.replaceState(j,h,b);try{document.activeElement.blur()}catch(k){}if(e)throw new Error(e);i(f.html)});var f=g.xhr();f.readyState>0&&(e?a.history.replaceState(null,"",b):a.history.pushState(null,"",b))},t.load=function(a,c,d,e){if(c&&c.length){e=e||b,f(c,"String")&&(c=c.split(/\s*,\s*/)),c=c.join(",");var i=a+(-1===a.indexOf("?")?"?":"&")+"pagelets="+encodeURIComponent(c);g.request(i,{before:function(a){}},function(a,b){return a?e(a):void h(b,e)})}else location.href=a},document.documentElement.addEventListener("click",function(a){for(var b=a.target;b&&"body"!=b.tagName.toLowerCase();){if("a"===b.tagName.toLowerCase()){var c=b.getAttribute("href"),e=(b.getAttribute("data-pagelets")||"").split(/\s*,\s*/).filter(d),f=b.getAttribute("data-pagelets-stateReplace")||!1,g=b.getAttribute("data-pagelets-nocache")||!1;if(c&&e.length>0){a.preventDefault(),a.stopPropagation();var h={stateReplace:f,nocache:g};t.go(c,e,h)}break}b=b.parentNode}})}(window);